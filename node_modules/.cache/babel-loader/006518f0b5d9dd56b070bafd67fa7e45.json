{"ast":null,"code":"import { CardElement as Ee } from \"@stripe/react-stripe-js\";\nimport T from \"react\";\n\nfunction V(e) {\n  let {\n    prefix: t,\n    field: r,\n    errors: o,\n    ...s\n  } = e;\n  if (o == null) return null;\n  let n = r ? o.getFieldErrors(r) : o.getFormErrors();\n  return n.length === 0 ? null : T.createElement(\"div\", { ...s\n  }, t ? `${t} ` : null, n.map(a => a.message).join(\", \"));\n}\n\nimport { createClient as S, getDefaultClient as M } from \"@formspree/core\";\nimport { Elements as k } from \"@stripe/react-stripe-js\";\nimport { loadStripe as A } from \"@stripe/stripe-js/pure/index.js\";\nimport f, { useContext as B, useEffect as C, useMemo as H, useState as K } from \"react\";\nimport j from \"react\";\nimport { useElements as _ } from \"@stripe/react-stripe-js\";\nimport { createContext as w, useContext as R } from \"react\";\nvar E = w({\n  elements: null\n});\n\nfunction P(e) {\n  let {\n    children: t\n  } = e,\n      r = _();\n\n  return j.createElement(E.Provider, {\n    value: {\n      elements: r\n    }\n  }, t);\n}\n\nfunction v() {\n  return R(E);\n}\n\nvar h = f.createContext(null);\n\nfunction N(e) {\n  let {\n    children: t,\n    project: r,\n    stripePK: o\n  } = e,\n      [s, n] = K(S({\n    project: r\n  })),\n      a = H(() => o ? A(o) : null, [o]);\n  return C(() => {\n    let i = !0;\n    return i && n(l => l.project !== r ? S({ ...l,\n      project: r\n    }) : l), () => {\n      i = !1;\n    };\n  }, [r]), C(() => {\n    let i = !0;\n    return a === null || a === void 0 ? void 0 : a.then(l => {\n      i && l && n(p => S({ ...p,\n        stripe: l\n      }));\n    }), () => {\n      i = !1;\n    };\n  }, [a]), f.createElement(h.Provider, {\n    value: {\n      client: s\n    }\n  }, a ? f.createElement(k, {\n    stripe: a\n  }, f.createElement(P, null, t)) : t);\n}\n\nfunction b() {\n  return B(h) ?? {\n    client: M()\n  };\n}\n\nimport { isSubmissionError as q } from \"@formspree/core\";\nimport { useState as y } from \"react\";\nimport { appendExtraData as W } from \"@formspree/core\";\nvar D = \"3.0.0\";\nimport { CardElement as U } from \"@stripe/react-stripe-js\";\nvar z = `@formspree/react@${D}`;\n\nfunction F(e, t = {}) {\n  let r = b(),\n      {\n    client: o = r.client,\n    extraData: s,\n    origin: n\n  } = t,\n      {\n    elements: a\n  } = v(),\n      {\n    stripe: i\n  } = o;\n  return async function (p) {\n    let m = I(p) ? $(p) : p;\n    if (typeof s == \"object\") for (let [u, g] of Object.entries(s)) {\n      let d;\n      typeof g == \"function\" ? d = await g() : d = g, d !== void 0 && W(m, u, d);\n    }\n    let c = a === null || a === void 0 ? void 0 : a.getElement(U),\n        x = i && c ? () => i.createPaymentMethod({\n      type: \"card\",\n      card: c,\n      billing_details: G(m)\n    }) : void 0;\n    return o.submitForm(e, m, {\n      endpoint: n,\n      clientName: z,\n      createPaymentMethod: x\n    });\n  };\n}\n\nfunction I(e) {\n  return \"preventDefault\" in e && typeof e.preventDefault == \"function\";\n}\n\nfunction $(e) {\n  e.preventDefault();\n  let t = e.currentTarget;\n  if (t.tagName != \"FORM\") throw new Error(\"submit was triggered for a non-form element\");\n  return new FormData(t);\n}\n\nfunction G(e) {\n  let t = {\n    address: Y(e)\n  };\n\n  for (let r of [\"name\", \"email\", \"phone\"]) {\n    let o = e instanceof FormData ? e.get(r) : e[r];\n    o && typeof o == \"string\" && (t[r] = o);\n  }\n\n  return t;\n}\n\nfunction Y(e) {\n  let t = {};\n\n  for (let [r, o] of [[\"address_line1\", \"line1\"], [\"address_line2\", \"line2\"], [\"address_city\", \"city\"], [\"address_country\", \"country\"], [\"address_state\", \"state\"], [\"address_postal_code\", \"postal_code\"]]) {\n    let s = e instanceof FormData ? e.get(r) : e[r];\n    s && typeof s == \"string\" && (t[o] = s);\n  }\n\n  return t;\n}\n\nfunction J(e, t = {}) {\n  let [r, o] = y(null),\n      [s, n] = y(null),\n      [a, i] = y(!1),\n      [l, p] = y(!1);\n  if (!e) throw new Error('You must provide a form key or hashid (e.g. useForm(\"myForm\") or useForm(\"123xyz\")');\n  let m = F(e, {\n    client: t.client,\n    extraData: t.data,\n    origin: t.endpoint\n  });\n  return [{\n    errors: r,\n    result: s,\n    submitting: a,\n    succeeded: l\n  }, async function (x) {\n    i(!0);\n    let u = await m(x);\n    i(!1), q(u) ? (o(u), p(!1)) : (o(null), n(u), p(!0));\n  }, function () {\n    o(null), n(null), i(!1), p(!1);\n  }];\n}\n\nexport { Ee as CardElement, N as FormspreeProvider, V as ValidationError, J as useForm, b as useFormspree, F as useSubmit };","map":{"version":3,"sources":["C:/Users/hamilton.parreiras/Documents/Hamilton/EscritÃ³rio/Site/hamiltonreis.com.br/node_modules/@formspree/react/dist/index.mjs"],"names":["CardElement","Ee","T","V","e","prefix","t","field","r","errors","o","s","n","getFieldErrors","getFormErrors","length","createElement","map","a","message","join","createClient","S","getDefaultClient","M","Elements","k","loadStripe","A","f","useContext","B","useEffect","C","useMemo","H","useState","K","j","useElements","_","createContext","w","R","E","elements","P","children","Provider","value","v","h","N","project","stripePK","i","l","then","p","stripe","client","b","isSubmissionError","q","y","appendExtraData","W","D","U","z","F","extraData","origin","m","I","$","u","g","Object","entries","d","c","getElement","x","createPaymentMethod","type","card","billing_details","G","submitForm","endpoint","clientName","preventDefault","currentTarget","tagName","Error","FormData","address","Y","get","J","data","result","submitting","succeeded","FormspreeProvider","ValidationError","useForm","useFormspree","useSubmit"],"mappings":"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","sourcesContent":["import{CardElement as Ee}from\"@stripe/react-stripe-js\";import T from\"react\";function V(e){let{prefix:t,field:r,errors:o,...s}=e;if(o==null)return null;let n=r?o.getFieldErrors(r):o.getFormErrors();return n.length===0?null:T.createElement(\"div\",{...s},t?`${t} `:null,n.map(a=>a.message).join(\", \"))}import{createClient as S,getDefaultClient as M}from\"@formspree/core\";import{Elements as k}from\"@stripe/react-stripe-js\";import{loadStripe as A}from\"@stripe/stripe-js/pure/index.js\";import f,{useContext as B,useEffect as C,useMemo as H,useState as K}from\"react\";import j from\"react\";import{useElements as _}from\"@stripe/react-stripe-js\";import{createContext as w,useContext as R}from\"react\";var E=w({elements:null});function P(e){let{children:t}=e,r=_();return j.createElement(E.Provider,{value:{elements:r}},t)}function v(){return R(E)}var h=f.createContext(null);function N(e){let{children:t,project:r,stripePK:o}=e,[s,n]=K(S({project:r})),a=H(()=>o?A(o):null,[o]);return C(()=>{let i=!0;return i&&n(l=>l.project!==r?S({...l,project:r}):l),()=>{i=!1}},[r]),C(()=>{let i=!0;return a?.then(l=>{i&&l&&n(p=>S({...p,stripe:l}))}),()=>{i=!1}},[a]),f.createElement(h.Provider,{value:{client:s}},a?f.createElement(k,{stripe:a},f.createElement(P,null,t)):t)}function b(){return B(h)??{client:M()}}import{isSubmissionError as q}from\"@formspree/core\";import{useState as y}from\"react\";import{appendExtraData as W}from\"@formspree/core\";var D=\"3.0.0\";import{CardElement as U}from\"@stripe/react-stripe-js\";var z=`@formspree/react@${D}`;function F(e,t={}){let r=b(),{client:o=r.client,extraData:s,origin:n}=t,{elements:a}=v(),{stripe:i}=o;return async function(p){let m=I(p)?$(p):p;if(typeof s==\"object\")for(let[u,g]of Object.entries(s)){let d;typeof g==\"function\"?d=await g():d=g,d!==void 0&&W(m,u,d)}let c=a?.getElement(U),x=i&&c?()=>i.createPaymentMethod({type:\"card\",card:c,billing_details:G(m)}):void 0;return o.submitForm(e,m,{endpoint:n,clientName:z,createPaymentMethod:x})}}function I(e){return\"preventDefault\"in e&&typeof e.preventDefault==\"function\"}function $(e){e.preventDefault();let t=e.currentTarget;if(t.tagName!=\"FORM\")throw new Error(\"submit was triggered for a non-form element\");return new FormData(t)}function G(e){let t={address:Y(e)};for(let r of[\"name\",\"email\",\"phone\"]){let o=e instanceof FormData?e.get(r):e[r];o&&typeof o==\"string\"&&(t[r]=o)}return t}function Y(e){let t={};for(let[r,o]of[[\"address_line1\",\"line1\"],[\"address_line2\",\"line2\"],[\"address_city\",\"city\"],[\"address_country\",\"country\"],[\"address_state\",\"state\"],[\"address_postal_code\",\"postal_code\"]]){let s=e instanceof FormData?e.get(r):e[r];s&&typeof s==\"string\"&&(t[o]=s)}return t}function J(e,t={}){let[r,o]=y(null),[s,n]=y(null),[a,i]=y(!1),[l,p]=y(!1);if(!e)throw new Error('You must provide a form key or hashid (e.g. useForm(\"myForm\") or useForm(\"123xyz\")');let m=F(e,{client:t.client,extraData:t.data,origin:t.endpoint});return[{errors:r,result:s,submitting:a,succeeded:l},async function(x){i(!0);let u=await m(x);i(!1),q(u)?(o(u),p(!1)):(o(null),n(u),p(!0))},function(){o(null),n(null),i(!1),p(!1)}]}export{Ee as CardElement,N as FormspreeProvider,V as ValidationError,J as useForm,b as useFormspree,F as useSubmit};\n"]},"metadata":{},"sourceType":"module"}